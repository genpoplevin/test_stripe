# test_stripe

### Описание проекта
>>
stripe.com/docs - платёжная система с подробным API и бесплатным тестовым режимом для имитации и тестирования платежей. С помощью python библиотеки stripe можно удобно создавать платежные формы разных видов, сохранять данные клиента, и реализовывать прочие платежные функции.  

Здесь реализован простой сервер с одной html страничкой, который общается со Stripe и создает платёжные формы для товаров.

### Технологии
 - Python 3.7.9
 - Django 3.2.16
 - Stripe 5.0.0


### Как запустить проект:

Клонировать репозиторий:

```
git clone https://github.com/genpoplevin/test_stripe.git
```

Перейти в папку test_stripe/
```
cd test_stripe
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```

```
source venv/Scripts/activate
```

Обновите менеджер пакетов pip:
```
python -m pip install --upgrade pip
```
Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```

Запустить миграции (будет создана база данных для работы с проектом)
```
python manage.py migrate
```
Загрузить данные в базу (2 товара и зарегистрированный администратор)
```
python manage.py loaddata db.json
```

Запустить локальный сервер
```
python manage.py runserver
```
Теперь проект будет доступен по адресу http://127.0.0.1:8000/ в браузере



### Набор доступных адресов:
* ```http://127.0.0.1:8000/admin/``` - администрирование сайта (login: admin, пароль: admin).  
Можно смотреть список уже созданных предметов и создавать новые.
* ```http://127.0.0.1:8000/item/1/``` - отображение страницы первого предмета.
* ```http://127.0.0.1:8000/item/2/``` - отображение страницы второго предмета.
* ```http://127.0.0.1:8000/buy/1/``` - переход к форме оплаты первого предмета.
* ```http://127.0.0.1:8000/buy/2/``` - переход к форме оплаты второго предмета.
* ```http://127.0.0.1:8000/success/``` - страница, отображаемая при успешном проведении платежа.
* ```http://127.0.0.1:8000/cancel/``` - страница, отображаемая при отмене платежа.



### Тестирование платежей:
1. Перейдите на страницу товара.
```
http://127.0.0.1:8000/item/1/
```
2. Нажмите кнопку оформления заказа.  

3. Заполните платежные реквизиты данными тестовой карты:  
* Введите 4242 4242 4242 4242 как номер карты.
* Введите любую будущую дату истечения срока действия карты.
* Введите любое трехзначное число для CVC.
* Введите любой платежный почтовый индекс.  

4. Щелкните Оплатить.  

5. Вы будете перенаправлены на новую страницу успеха.



#### Автор
Поплевин Геннадий
